!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.thataway=e()}}(function(){var e;return function e(t,r,n){function a(o,u){if(!r[o]){if(!t[o]){var s="function"==typeof require&&require;if(!u&&s)return s(o,!0);if(i)return i(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[o]={exports:{}};t[o][0].call(l.exports,function(e){var r=t[o][1][e];return a(r?r:e)},l,l.exports,e,t,r,n)}return r[o].exports}for(var i="function"==typeof require&&require,o=0;o<n.length;o++)a(n[o]);return a}({1:[function(e,t,r){var n=e("query-string"),a=e("url-pattern");t.exports=function(){function e(e,t){var r;if("string"!=typeof e)throw Error("addRoute requires a route of type string and data to store");/:/.test(e)&&(r=new a(e),l.push({pattern:r,data:t})),f[e]=t}function t(e){if("function"!=typeof e)throw Error("addListener requires a function to be passed");return c.push(e)}function r(e){var t=!1;return g!==e&&(t=!0,g=e),t}function i(){var e=u(location.pathname),t=s(e);c.forEach(function(e){e(t)})}function o(e,t,n){if("string"!=typeof e)throw Error("navigate requires a path of type string and can optionally be passed data and a title");e=u(e),r(e)&&h&&(history.pushState(t,n,e),i())}function u(e){if(e){var t=e.length>1&&"/"===e.slice(-1);return t&&(e=e.substring(0,e.length-1)),e}}function s(e){var t,r=n.parse(location.search),a=f[e]||{};return l.forEach(function(r){t=r.pattern.match(e),r.data&&(a=r.data)}),a.path=e,a.params=t,a.query=r,a}var c=[],l=[],f={},g="",h=!1;return"undefined"!=typeof window&&(h=!0,g=u(location.pathname),window.onpopstate=i),{addRoute:e,addListener:t,navigate:o}}},{"query-string":2,"url-pattern":5}],2:[function(e,t,r){"use strict";function n(e,t){return t.encode?t.strict?a(e):encodeURIComponent(e):e}var a=e("strict-uri-encode"),i=e("object-assign");r.extract=function(e){return e.split("?")[1]||""},r.parse=function(e){var t=Object.create(null);return"string"!=typeof e?t:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach(function(e){var r=e.replace(/\+/g," ").split("="),n=r.shift(),a=r.length>0?r.join("="):void 0;n=decodeURIComponent(n),a=void 0===a?null:decodeURIComponent(a),void 0===t[n]?t[n]=a:Array.isArray(t[n])?t[n].push(a):t[n]=[t[n],a]}),t):t},r.stringify=function(e,t){var r={encode:!0,strict:!0};return t=i(r,t),e?Object.keys(e).sort().map(function(r){var a=e[r];if(void 0===a)return"";if(null===a)return n(r,t);if(Array.isArray(a)){var i=[];return a.slice().forEach(function(e){void 0!==e&&(null===e?i.push(n(r,t)):i.push(n(r,t)+"="+n(e,t)))}),i.join("&")}return n(r,t)+"="+n(a,t)}).filter(function(e){return e.length>0}).join("&"):""}},{"object-assign":3,"strict-uri-encode":4}],3:[function(e,t,r){"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function a(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==n.join(""))return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(e){a[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},a)).join("")}catch(e){return!1}}var i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=a()?Object.assign:function(e,t){for(var r,a,u=n(e),s=1;s<arguments.length;s++){r=Object(arguments[s]);for(var c in r)i.call(r,c)&&(u[c]=r[c]);if(Object.getOwnPropertySymbols){a=Object.getOwnPropertySymbols(r);for(var l=0;l<a.length;l++)o.call(r,a[l])&&(u[a[l]]=r[a[l]])}}return u}},{}],4:[function(e,t,r){"use strict";t.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},{}],5:[function(t,r,n){var a=[].slice;!function(t,a){return"function"==typeof e&&null!=e.amd?e([],a):"undefined"!=typeof n&&null!==n?r.exports=a():t.UrlPattern=a()}(this,function(){var e,t,r,n,i,o,u,s,c,l,f,g,h,p,d;return c=function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},u=function(e,t){var r,n,a;for(a=[],r=-1,n=e.length;++r<n;)a=a.concat(t(e[r]));return a},p=function(e,t){var r,n,a;for(a="",r=-1,n=e.length;++r<n;)a+=t(e[r]);return a},h=function(e){return new RegExp(e.toString()+"|").exec("").length-1},f=function(e,t){var r,n,a,i,o;for(i={},r=-1,a=e.length;++r<a;)n=e[r],o=t[r],null!=o&&(null!=i[n]?(Array.isArray(i[n])||(i[n]=[i[n]]),i[n].push(o)):i[n]=o);return i},e={},e.Result=function(e,t){this.value=e,this.rest=t},e.Tagged=function(e,t){this.tag=e,this.value=t},e.tag=function(t,r){return function(n){var a,i;if(a=r(n),null!=a)return i=new e.Tagged(t,a.value),new e.Result(i,a.rest)}},e.regex=function(t){return function(r){var n,a;if(n=t.exec(r),null!=n)return a=n[0],new e.Result(a,r.slice(a.length))}},e.sequence=function(){var t;return t=1<=arguments.length?a.call(arguments,0):[],function(r){var n,a,i,o,u,s;for(n=-1,a=t.length,s=[],o=r;++n<a;){if(i=t[n],u=i(o),null==u)return;s.push(u.value),o=u.rest}return new e.Result(s,o)}},e.pick=function(){var t,r;return t=arguments[0],r=2<=arguments.length?a.call(arguments,1):[],function(n){var a,i;if(i=e.sequence.apply(e,r)(n),null!=i)return a=i.value,i.value=a[t],i}},e.string=function(t){var r;return r=t.length,function(n){if(n.slice(0,r)===t)return new e.Result(t,n.slice(r))}},e.lazy=function(e){var t;return t=null,function(r){return null==t&&(t=e()),t(r)}},e.baseMany=function(t,r,n,a,i){var o,u,s,c;for(s=i,c=n?"":[];;){if(null!=r&&(o=r(s),null!=o))break;if(u=t(s),null==u)break;n?c+=u.value:c.push(u.value),s=u.rest}if(!a||0!==c.length)return new e.Result(c,s)},e.many1=function(t){return function(r){return e.baseMany(t,null,!1,!0,r)}},e.concatMany1Till=function(t,r){return function(n){return e.baseMany(t,r,!0,!0,n)}},e.firstChoice=function(){var e;return e=1<=arguments.length?a.call(arguments,0):[],function(t){var r,n,a,i;for(r=-1,n=e.length;++r<n;)if(a=e[r],i=a(t),null!=i)return i}},g=function(t){var r;return r={},r.wildcard=e.tag("wildcard",e.string(t.wildcardChar)),r.optional=e.tag("optional",e.pick(1,e.string(t.optionalSegmentStartChar),e.lazy(function(){return r.pattern}),e.string(t.optionalSegmentEndChar))),r.name=e.regex(new RegExp("^["+t.segmentNameCharset+"]+")),r.named=e.tag("named",e.pick(1,e.string(t.segmentNameStartChar),e.lazy(function(){return r.name}))),r.escapedChar=e.pick(1,e.string(t.escapeChar),e.regex(/^./)),r.static=e.tag("static",e.concatMany1Till(e.firstChoice(e.lazy(function(){return r.escapedChar}),e.regex(/^./)),e.firstChoice(e.string(t.segmentNameStartChar),e.string(t.optionalSegmentStartChar),e.string(t.optionalSegmentEndChar),r.wildcard))),r.token=e.lazy(function(){return e.firstChoice(r.wildcard,r.optional,r.named,r.static)}),r.pattern=e.many1(e.lazy(function(){return r.token})),r},s={escapeChar:"\\",segmentNameStartChar:":",segmentValueCharset:"a-zA-Z0-9-_~ %",segmentNameCharset:"a-zA-Z0-9",optionalSegmentStartChar:"(",optionalSegmentEndChar:")",wildcardChar:"*"},o=function(e,t){if(Array.isArray(e))return p(e,function(e){return o(e,t)});switch(e.tag){case"wildcard":return"(.*?)";case"named":return"(["+t+"]+)";case"static":return c(e.value);case"optional":return"(?:"+o(e.value,t)+")?"}},i=function(e,t){return null==t&&(t=s.segmentValueCharset),"^"+o(e,t)+"$"},n=function(e){if(Array.isArray(e))return u(e,n);switch(e.tag){case"wildcard":return["_"];case"named":return[e.value];case"static":return[];case"optional":return n(e.value)}},l=function(e,t,r,n){var a,i,o,u;if(null==n&&(n=!1),u=e[t],null!=u){if(a=r[t]||0,i=Array.isArray(u)?u.length-1:0,!(a>i))return o=Array.isArray(u)?u[a]:u,n&&(r[t]=a+1),o;if(n)throw new Error("too few values provided for key `"+t+"`")}else if(n)throw new Error("no values provided for key `"+t+"`")},r=function(e,t,n){var a,i;if(Array.isArray(e)){for(a=-1,i=e.length;++a<i;)if(r(e[a],t,n))return!0;return!1}switch(e.tag){case"wildcard":return null!=l(t,"_",n,!1);case"named":return null!=l(t,e.value,n,!1);case"static":return!1;case"optional":return r(e.value,t,n)}},d=function(e,t,n){if(Array.isArray(e))return p(e,function(e){return d(e,t,n)});switch(e.tag){case"wildcard":return l(t,"_",n,!0);case"named":return l(t,e.value,n,!0);case"static":return e.value;case"optional":return r(e.value,t,n)?d(e.value,t,n):""}},t=function(e,r){var a,o,u,c,l;if(e instanceof t)return this.isRegex=e.isRegex,this.regex=e.regex,this.ast=e.ast,void(this.names=e.names);if(this.isRegex=e instanceof RegExp,"string"!=typeof e&&!this.isRegex)throw new TypeError("argument must be a regex or a string");if(this.isRegex){if(this.regex=e,null!=r){if(!Array.isArray(r))throw new Error("if first argument is a regex the second argument may be an array of group names but you provided something else");if(a=h(this.regex),r.length!==a)throw new Error("regex contains "+a+" groups but array of group names contains "+r.length);this.names=r}}else{if(""===e)throw new Error("argument must not be the empty string");if(l=e.replace(/\s+/g,""),l!==e)throw new Error("argument must not contain whitespace");if(o={escapeChar:(null!=r?r.escapeChar:void 0)||s.escapeChar,segmentNameStartChar:(null!=r?r.segmentNameStartChar:void 0)||s.segmentNameStartChar,segmentNameCharset:(null!=r?r.segmentNameCharset:void 0)||s.segmentNameCharset,segmentValueCharset:(null!=r?r.segmentValueCharset:void 0)||s.segmentValueCharset,optionalSegmentStartChar:(null!=r?r.optionalSegmentStartChar:void 0)||s.optionalSegmentStartChar,optionalSegmentEndChar:(null!=r?r.optionalSegmentEndChar:void 0)||s.optionalSegmentEndChar,wildcardChar:(null!=r?r.wildcardChar:void 0)||s.wildcardChar},c=g(o),u=c.pattern(e),null==u)throw new Error("couldn't parse pattern");if(""!==u.rest)throw new Error("could only partially parse pattern");this.ast=u.value,this.regex=new RegExp(i(this.ast,o.segmentValueCharset)),this.names=n(this.ast)}},t.prototype.match=function(e){var t,r;return r=this.regex.exec(e),null==r?null:(t=r.slice(1),this.names?f(this.names,t):t)},t.prototype.stringify=function(e){if(null==e&&(e={}),this.isRegex)throw new Error("can't stringify patterns generated from a regex");if(e!==Object(e))throw new Error("argument must be an object or undefined");return d(this.ast,e,{})},t.escapeForRegex=c,t.concatMap=u,t.stringConcatMap=p,t.regexGroupCount=h,t.keysAndValuesToObject=f,t.P=e,t.newParser=g,t.defaultOptions=s,t.astNodeToRegexString=i,t.astNodeToNames=n,t.getParam=l,t.astNodeContainsSegmentsForProvidedParams=r,t.stringify=d,t})},{}]},{},[1])(1)});
